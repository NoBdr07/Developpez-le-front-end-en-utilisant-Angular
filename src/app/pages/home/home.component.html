<app-title *ngIf="numberOfJOs" [title]="pageTitle"></app-title>

<div id="infoContainer">
  <app-info *ngIf="numberOfJOs" [info]="josLabel" [value]="numberOfJOs"></app-info>
  <app-info *ngIf="numberOfCountries" [info]="countriesLabel" [value]="numberOfCountries"></app-info>
</div>

<div id="pieContainer" *ngIf="medalsPerCountry$ | async as medals">
  <ngx-charts-pie-chart
    [gradient]="gradient"
    [legend]="showLegend"
    [labels]="showLabels"
    [doughnut]="isDoughnut"
    [results]="medals"
    [customColors]="colorHelper"
    [legendPosition]="legendPosition"
    [legendTitle]="legendTitle"
    [view]="[windowWidth /1.2, windowHeight -300 ]"
    [maxLabelLength]="maxLabelLength" 
    (select)="onSelectCountry($event)"
  >
    <ng-template #tooltipTemplate let-model="model">
      <div class="custom-tooltip">
        <span>{{ model.name }} </span><br />
        <i class="fa fa-solid fa-award"></i>
        <span> {{ model.value }}</span>
      </div>
    </ng-template>
  </ngx-charts-pie-chart>
</div>
